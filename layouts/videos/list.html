{{ define "main" }}
<div class="section-header">
  <h1>Videos</h1>
  <div class="accent-line"></div>
</div>
<div class="video-grid">
  {{ range .Site.Data.videos.videos }}
  <div class="video-grid__item">
    {{ $fullURL := .token }}
    {{ $thumbnail := .thumbnail }}
    {{ if not $thumbnail }}
    {{ $thumbnail = "static/favicon.ico" }}
    {{ end }}    
    <div class="video-grid__metadata">
      <h2>{{ .title }}</h2>
      <p class="location">
        <i class="location-icon"></i>{{ with .location }}{{ . }}{{ else }}Location not specified{{ end }}
      </p>
      <p class="date">
        <i class="calendar-icon"></i>{{ with .date }}{{ . }}{{ else }}Date not specified{{ end }}
      </p>
    </div>
    <video controls preload="metadata" poster="{{ $thumbnail }}">
      <source src="{{ $fullURL }}">
      Your browser does not support the video tag.
    </video>
  </div>
  {{ end }}
</div>
{{ end }}